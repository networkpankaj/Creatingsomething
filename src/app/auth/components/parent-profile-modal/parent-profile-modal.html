<div class="modal-overlay" *ngIf="show" (click)="onBackgroundClick($event)">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <!-- Modal Header -->
    <div class="modal-header">
      <h2 class="modal-title">
        <span class="header-icon">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦</span>
        Parent Profile
      </h2>
      <button class="close-btn" (click)="closeModal()" type="button">
        <span class="close-icon">âœ•</span>
      </button>
    </div>

    <!-- Modal Body -->
    <div class="modal-body" *ngIf="parent">
      <!-- Parent Info -->
      <div class="parent-details">
        <div class="parent-avatar-large" [style.background-color]="parent.color">
          <span class="avatar-text-large">{{ parent.initials }}</span>
        </div>
        
        <div class="parent-main-info">
          <h3 class="parent-name-large">{{ parent.firstName }} {{ parent.lastName }}</h3>
          <div class="parent-location-large">
            <!-- <span class="location-icon">ğŸ“</span> -->
            <span class="location-text">{{ getFullAddress() }}</span>
          </div>
          <!-- <div class="parent-priority" [class]="getPriorityClass(parent.priority)">
            <span class="priority-icon">âš¡</span>
            {{ parent.priority }}
          </div> -->
        </div>
      </div>

      <!-- Subject Needs -->
      <div class="info-section">
        <h4 class="section-title">
          <span class="section-icon">ğŸ“š</span>
          Subject Requirements
        </h4>
        <div class="subject-tags">
          <span class="subject-tag" *ngFor="let subject of parent.subjectNeeds">
            {{ subject }}
          </span>
        </div>
      </div>

      <!-- Children Information -->
      <div class="info-section">
        <h4 class="section-title">
          <span class="section-icon">ğŸ‘¶</span>
          Children Information
        </h4>
        <div class="students-details">
          <div class="student-card" *ngFor="let student of parent.students">
            <div class="student-header">
              <h5 class="student-name">{{ student.name }}</h5>
              <span class="student-grade">Grade {{ student.grade }}</span>
            </div>
            
            <div class="student-info">
              <div class="student-strengths" *ngIf="student.strengths && student.strengths.length > 0">
                <span class="info-label">
                  <span class="label-icon">ğŸ’ª</span>
                  Strengths:
                </span>
                <div class="info-tags">
                  <span class="strength-tag" *ngFor="let strength of student.strengths">{{ strength }}</span>
                </div>
              </div>
              
              <div class="student-challenges" *ngIf="student.challenges && student.challenges.length > 0">
                <span class="info-label">
                  <span class="label-icon">ğŸ¯</span>
                  Needs help with:
                </span>
                <div class="info-tags">
                  <span class="challenge-tag" *ngFor="let challenge of student.challenges">{{ challenge }}</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Additional Requirements -->
      <div class="info-section" *ngIf="parent.additionalRequirements">
        <h4 class="section-title">
          <span class="section-icon">ğŸ“</span>
          Additional Requirements
        </h4>
        <div class="requirements-card">
          <p class="requirements-text">{{ parent.additionalRequirements }}</p>
        </div>
      </div>

      <!-- Contact Information -->
      <div class="info-section">
        <h4 class="section-title">
          <span class="section-icon">ğŸ“</span>
          Contact Information
        </h4>
        <div class="contact-info">
          <div class="contact-item" *ngIf="parent.email">
            <span class="contact-icon">ğŸ“§</span>
            <span class="contact-text">{{ parent.email }}</span>
          </div>
          <div class="contact-item" *ngIf="parent.phone">
            <span class="contact-icon">ğŸ“±</span>
            <span class="contact-text">{{ parent.phone }}</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal Footer -->
    <div class="modal-footer">
      <button class="btn-secondary" (click)="closeModal()" type="button">
        <span class="btn-icon">âœ•</span>
        Close
      </button>
      <button class="btn-primary" (click)="contactParent()" type="button">
        <span class="btn-icon">ğŸ’¬</span>
        Contact Parent
      </button>
    </div>
  </div>
</div>